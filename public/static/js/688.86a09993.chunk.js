"use strict";(self.webpackChunkrecipe_gen=self.webpackChunkrecipe_gen||[]).push([[688],{7590:function(e,n,t){t.d(n,{_:function(){return i}});var r=t(2791),i=function(e,n){var t=(0,r.useRef)(!0);(0,r.useEffect)((function(){if(!t.current)return e();t.current=!1}),n)}},2688:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var r=t(2982),i=t(4942),a=t(1413),c=t(5861),s=t(885),o=t(7757),u=t.n(o),l=t(2791),d=t(364),p=t(6871),f=t(184);function h(e){var n=e.value,t=e.onChange,r=e.txt,i=e.id;return(0,f.jsxs)("div",{className:"input-switch",children:[(0,f.jsx)("input",{checked:n,onChange:t,type:"checkbox",name:"switch",id:i,className:"tgl tgl-light"}),(0,f.jsx)("label",{htmlFor:i,className:"tgl-btn"}),(0,f.jsx)("h4",{children:r})]})}var g=t(9258),m=t(4483);function v(e){return x.apply(this,arguments)}function x(){return(x=(0,c.Z)(u().mark((function e(n){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"recipe-gen",t="https://api.cloudinary.com/v1_1/".concat("recipe-gen","/image/upload"),(r=new FormData).append("file",n.target.files[0]),r.append("upload_preset","recipe-gen"),e.abrupt("return",fetch(t,{method:"POST",body:r}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t(6801);var b=t(5190),j=t(3174);function Z(e){var n=e.imgUrl,t=e.onChangeImg,r=(e.isEdited,(0,d.I0)()),i=(0,l.useState)(),a=(0,s.Z)(i,2),o=a[0],p=a[1],h=(0,l.useRef)(),g=function(){var e=(0,c.Z)(u().mark((function e(n){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=function(){var e=(0,c.Z)(u().mark((function e(){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.target.files[0]){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r((0,b.K)(!0)),e.next=6,v(n);case 6:i=e.sent,t(i.url),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}}),e,null,[[2,10,13,15]])})));return function(){return e.apply(this,arguments)}}(),i(n);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=o?"expand":"",Z=n?"img-class":"";return(0,f.jsx)("section",{className:"recipe-img-container",children:(0,f.jsxs)("section",{className:"recipe-img ".concat(x," ").concat(Z),children:[n?(0,f.jsx)("section",{onClick:function(){return p((function(e){return!e}))},className:"img-container",style:{backgroundImage:"url(".concat(n,")")},children:(0,f.jsxs)("section",{className:"img-actions ".concat(x),children:[(0,f.jsxs)("button",{onClick:function(e){e.stopPropagation(),h.current.click()},children:[(0,f.jsx)(m.G,{icon:j.VmB})," ",(0,f.jsx)("span",{children:"Change"})]}),(0,f.jsxs)("button",{onClick:function(e){e.stopPropagation(),t(null,!0),p(!1)},children:[(0,f.jsx)(m.G,{icon:j.$aW})," ",(0,f.jsx)("span",{children:"Remove"})]})]})}):(0,f.jsx)("section",{className:"img-upload",children:(0,f.jsx)("label",{htmlFor:"imgUploader",children:(0,f.jsx)(m.G,{className:"upload-icon",icon:j.r6c})})}),(0,f.jsx)("input",{ref:h,type:"file",id:"imgUploader",onChange:g,hidden:!0})]})})}var k=t(6971),y=t(2709),C=t(9846),w=t(3127),R=t(8414),I=t(8685),N=t(6549),S=t(9326),T=function(e){switch(e.type){case"whatsapp":return(0,f.jsx)(k.Z,(0,a.Z)((0,a.Z)({},e),{},{children:(0,f.jsx)(y.Z,{})}));case"facebook":return(0,f.jsx)(C.Z,(0,a.Z)((0,a.Z)({},e),{},{children:(0,f.jsx)(w.Z,{})}));case"telegram":return(0,f.jsx)(R.Z,(0,a.Z)((0,a.Z)({},e),{},{children:(0,f.jsx)(I.Z,{})}));case"email":return(0,f.jsx)(N.Z,(0,a.Z)((0,a.Z)({},e),{},{children:(0,f.jsx)(S.Z,{})}));default:return(0,f.jsx)(f.Fragment,{})}};function E(e){return(0,f.jsx)("section",{className:"share-btn",children:(0,f.jsx)(T,(0,a.Z)({},e))})}var O=t(7590),D=t(1731),P=t(1945),F=t(9275),_=t(8225),U=function(e){var n=e.ingredient,t=e.ingToScale,r=e.isFixedRatio,i=e.isWeightRatio,o=e.onChangeRecipeData,d=e.ingredientsLength,p=e.handleIngChange,h=e.removeIngredient,g=e.providedRef,v=e.dragHandleProp,x=e.dragProp,b=e.numOfDishes,Z=e.handleRecipeAmounts,k=e.amountToScaleFixed,y=(e.isDraggingOver,e.isEdited),C=(0,l.useState)(""),w=(0,s.Z)(C,2),R=w[0],I=w[1],N=n.id===(null===t||void 0===t?void 0:t.id),S=(0,l.useRef)(),T=function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!r){e.next=3;break}return e.abrupt("return");case 3:if(1!==d){e.next=6;break}return(0,D.oc)({txt:"Sorry, for now you need to have at least 1 ingredient"}),e.abrupt("return");case 6:return I("equal"),e.next=9,(0,F._v)(350);case 9:h(n.id);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,O._)((function(){N&&(r?S.current.focus():(0,F.MO)())}),[r]),(0,O._)((function(){N&&(0,F.MO)()}),[i]);var E=function(e){return r?"amount"===e?function(e){return Z(e,n)}:function(){}:function(e){return p(e,n)}},P=function(e){var n;13!==(null===(n=e.nativeEvent)||void 0===n?void 0:n.keyCode)&&13!==e.keyCode&&13!==e.which&&13!==e.charCode&&"Enter"!==e.code||(e.target.blur(),window.getSelection().empty(),e.stopPropagation())},_=function(e){e.stopPropagation(),document.activeElement.blur(),(0,F.eO)(e,!0)};var U=(0,l.useCallback)((function(e){var n=null;return function(){n?(clearTimeout(n),n=null,null===e||void 0===e||e()):n=setTimeout((function(){n=null}),350)}}),[]),A=t?(0,F.ze)(n,t):"",L=(0,l.useMemo)((function(){if(b||(b=1),!r)return n.amount*b%1===0?n.amount*b:(n.amount*b).toFixed(2);if("units"===n.units)return n.amount;var e=(i?k*A:k/t.amount*n.amount)*b;return e%1===0?e:e.toFixed(2)}),[b,k,A,r,i,t,y]),W=N?"chosen":"",z=n.units.length+4,B=!r||n.id===t.id,K=r?"not-allowed":"";return(0,f.jsxs)("article",(0,a.Z)((0,a.Z)((0,a.Z)({onTouchEnd:U((function(){return console.log("db Tab!")})),onClick:function(e){document.body.focus(),(0,F.eO)(e,!0),document.activeElement.blur()},ref:g},x),v),{},{className:"ing-preview ".concat(R),children:[(0,f.jsx)("span",{tabIndex:"-1",className:"remove-icon ".concat(K),children:(0,f.jsx)(m.G,{onClick:T,icon:j.$aW})}),(0,f.jsx)("section",{onClick:_,className:"editable ing-name",children:(0,f.jsx)("span",{onClick:function(e){return e.stopPropagation()},tabIndex:"0",className:K,onKeyPress:P,onFocus:F.eO,title:n.name,"data-name":"name",onBlur:E(),contentEditable:!r,suppressContentEditableWarning:!0,children:n.name})}),(0,f.jsxs)("section",{autoFocus:!0,onClick:_,className:"amount-unit",children:[(0,f.jsx)("span",{ref:S,onClick:function(e){return e.stopPropagation()},tabIndex:"0",onKeyPress:P,onFocus:F.eO,inputMode:"numeric","data-name":"amount",onBlur:E("amount"),className:"editable ".concat(!B&&"not-allowed"),contentEditable:B,suppressContentEditableWarning:!0,children:L}),(0,f.jsxs)("select",{onClick:function(e){return e.stopPropagation()},disabled:r,className:K,tabIndex:"0",style:{width:"".concat(z,"ch")},onChange:E(),value:function(){var e=i?"g":n.units;return"units"===n.units&&(e="units"),e}(),name:"units",id:"units",children:[(0,f.jsx)("option",{value:"g",children:"g"}),(0,f.jsx)("option",{value:"Kg",children:"Kg"}),(0,f.jsx)("option",{value:"mL",children:"mL"}),(0,f.jsx)("option",{value:"L",children:"L"}),(0,f.jsx)("option",{value:"oz",children:"oz"}),(0,f.jsx)("option",{value:"cup",children:"Cup"}),(0,f.jsx)("option",{value:"tableSpoon",children:"Table spoon"}),(0,f.jsx)("option",{value:"teaSpoon",children:"Tea spoon"}),(0,f.jsx)("option",{value:"units",children:"Units"})]})]}),(0,f.jsx)("p",{title:A,onClick:function(){"units"!==n.units?o("ingToScaleId",n.id):(0,D.oc)({txt:"Can't set 'Units' as a main relative quantity"})},className:"scale-amount ".concat(W," ").concat(K),children:A||"-"})]}))};function A(e){var n=e.ingredients,t=e.ingToScale,r=e.onChangeRecipeData,i=e.handleIngChange,c=e.handleEditable,o=e.addIngredient,u=e.removeIngredient,d=e.ingToRemoveIdx,p=e.onReOrderIngs,h=e.numOfDishes,g=e.isFixedRatio,v=e.isWeightRatio,x=e.handleRecipeAmounts,b=e.amountToScaleFixed,Z=e.isEdited,k=(0,l.useState)(!1),y=(0,s.Z)(k,2),C=(y[0],y[1]),w=g?"not-allowed":"";return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(_.Z5,{onDragStart:function(){C(!0)},onDragEnd:function(e){C(!1),p(e)},children:(0,f.jsx)(_.bK,{droppableId:"droppable",children:function(e,s){return(0,f.jsx)("div",(0,a.Z)((0,a.Z)({},e.droppableProps),{},{ref:e.innerRef,children:(0,f.jsxs)("section",{className:"ing-list",children:[n.map((function(e,s){return(0,f.jsx)(_._l,{draggableId:e.id,index:s,children:function(o,l){return(0,f.jsx)(U,{providedRef:o.innerRef,dragProp:o.draggableProps,dragHandleProp:o.dragHandleProps,removeIngredient:u,handleEditable:c,handleIngChange:i,ingredient:e,ingToScale:t,isFixedRatio:g,isWeightRatio:v,onChangeRecipeData:r,numOfDishes:h,isRemovedClass:(0,F.Gm)(s,d),ingredientsLength:n.length,handleRecipeAmounts:x,amountToScaleFixed:b,isDraggingOver:l.isDraggingOver,isDragStyle:(p=l.isDragging,m=o.draggableProps.style,(0,a.Z)({backgroundColor:p?"blue":"red"},m)),isEdited:Z},e.id);var p,m}},e.id)})),e.placeholder,(0,f.jsx)("button",{disabled:g,className:"add-btn ".concat(w),onClick:o,children:(0,f.jsx)(m.G,{icon:j.r8p})})]})}))}})})})}var L=t(1016);function W(){var e=(0,l.useState)(),n=(0,s.Z)(e,2),t=n[0],o=n[1],m=(0,l.useState)(null),v=(0,s.Z)(m,2),x=v[0],j=(v[1],(0,l.useState)("")),k=(0,s.Z)(j,2),y=k[0],C=k[1],w=(0,l.useState)(!1),R=(0,s.Z)(w,2),I=R[0],N=R[1],S=(0,l.useState)(!1),T=(0,s.Z)(S,2),_=T[0],U=T[1],W=(0,l.useState)(""),z=(0,s.Z)(W,2),B=z[0],K=z[1],G=((0,l.useRef)(null),(0,l.useState)(!1)),M=(0,s.Z)(G,2),q=M[0],H=M[1],$=(0,l.useState)(!1),Q=(0,s.Z)($,2),V=Q[0],Y=Q[1],J=(0,l.useState)(),X=(0,s.Z)(J,2),ee=X[0],ne=X[1],te=(0,d.I0)(),re=(0,p.UO)();(0,l.useEffect)((function(){ie()}),[re.id]),(0,l.useEffect)((function(){if(t){var e=ce(t);ne(e.amount)}}),[null===t||void 0===t?void 0:t.ingToScaleId]);var ie=function(){var e=(0,c.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!re.id){e.next=7;break}return e.next=4,P.O.getById(re.id);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=P.O.getEmptyRecipe();case 8:n=e.t0,o(n),e.next=16;break;case 12:e.prev=12,e.t1=e.catch(0),console.log("failing"),K("Sorry,  can't find this recipe at this moment");case 16:return e.prev=16,e.finish(16);case 18:case"end":return e.stop()}}),e,null,[[0,12,16,18]])})));return function(){return e.apply(this,arguments)}}();(0,O._)((function(){if(!q){var e=ce(t);ne(e.amount),Y(!1)}}),[q]);var ae=function(){var e=(0,c.Z)(u().mark((function e(n,t){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.recipe,i=L(r),!q){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,o(r),e.next=8,P.O.save(n,t);case 8:return e.abrupt("return","res");case 11:throw e.prev=11,e.t0=e.catch(4),console.log("cant save recipe: ",e.t0),o(i),e.t0;case 16:return e.prev=16,te((0,b.K)(!1)),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,11,16,19]])})));return function(n,t){return e.apply(this,arguments)}}(),ce=(0,l.useCallback)((function(e){return e.ingredients.find((function(n){return n.id===e.ingToScaleId}))}),[t]),se=function(){var e=(0,c.Z)(u().mark((function e(n,r){var c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=(0,a.Z)((0,a.Z)({},t),{},(0,i.Z)({},n,r)),"ingToScaleId"===n||"imgUrl"===n?ae({recipe:c,field:n,value:r},"updateRecipe"):le(c);case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),oe=function(){var e=(0,c.Z)(u().mark((function e(n,r){var c,s,o,l,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.target,s=c.name,o=c.value,"SELECT"===c.nodeName||"INPUT"===c.nodeName){e.next=12;break}if(s=c.dataset.name,o=c.innerText,"amount"!==s){e.next=12;break}if(o=+o){e.next=12;break}return o=r.amount,c.innerText=o,e.abrupt("return");case 12:if(o!==r[s]){e.next=14;break}return e.abrupt("return");case 14:if(l=(0,a.Z)((0,a.Z)({},r),{},(0,i.Z)({},s,o)),d=(0,a.Z)((0,a.Z)({},t),{},{ingredients:t.ingredients.map((function(e){return e.id===r.id?l:e}))}),"units"!==s||"units"!==o||d.ingToScaleId!==l.id){e.next=18;break}return e.abrupt("return",(0,D.oc)({txt:"Can't change main relative quantity to 'Units'"}));case 18:le(d);case 19:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ue=function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(!1),e.next=4,ae({recipe:t},"general");case 4:(0,D.CB)({txt:"Recipe saved",time:2e3}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,D.oc)({txt:"Saving recipe failed",time:2e3});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),le=function(e){o(e),I||(N(!0),U(!0))},de=function(){var e=(0,c.Z)(u().mark((function e(){var n,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q){e.next=2;break}return e.abrupt("return");case 2:(n=P.O.getEmptyIngredient()).isNew=!0,i=(0,a.Z)((0,a.Z)({},t),{},{ingredients:[].concat((0,r.Z)(t.ingredients),[n])}),le(i);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=(0,c.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,a.Z)((0,a.Z)({},t),{},{ingredients:t.ingredients.filter((function(e){return e.id!==n}))}),t.ingToScaleId===n&&(t.ingToScaleId=""),le(r);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),fe=function(){var e=(0,c.Z)(u().mark((function e(n,t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,se("imgUrl",n);case 4:te((0,b.K)(!1));case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();if(!t)return(0,f.jsx)("div",{children:B||(0,f.jsx)(g.a,{_isLoading:!0})});var he=ce(t),ge=I?"animate-in":"animate-out",me=P.O.getRecipeTxt(t);return ee?(0,f.jsxs)("div",{className:"recipe-editor",children:[(0,f.jsx)("div",{className:"focus-div"}),(0,f.jsxs)("section",{className:"title-container",children:[(0,f.jsx)("h2",{onFocus:F.eO,onBlur:function(e){var n=e.target;return se("name",n.innerText)},contentEditable:!0,suppressContentEditableWarning:!0,children:t.name}),(0,f.jsx)("button",{className:"btn copy",onClick:function(){var e=P.O.getRecipeTxt(t);(0,F.vQ)(e),(0,D.CB)({txt:"Copied to clipboard"})},children:"Copy To Clipboard"})]}),(0,f.jsx)(Z,{imgUrl:t.imgUrl,isEdited:I,onChangeImg:fe}),(0,f.jsxs)("section",{className:"share-btns",children:[(0,f.jsx)(E,{url:" ",type:"whatsapp",title:me}),(0,f.jsx)(E,{url:"facebook.com",type:"facebook",quote:me}),(0,f.jsx)(E,{url:"telegram.com",type:"telegram",title:me}),(0,f.jsx)(E,{url:"",type:"email",subject:t.name,body:me})]}),(0,f.jsxs)("section",{className:"title-edit",children:[(0,f.jsxs)("section",{className:"input-check-container",children:[(0,f.jsx)(h,{id:"fixedMode",txt:"Fixed Mode",value:q,onChange:function(){return H((function(e){return!e}))}}),q&&(0,f.jsx)(h,{id:"weightMode",txt:"Weight Ratio",value:V,onChange:function(){return Y((function(e){return!e}))}})]}),(0,f.jsx)("form",{onSubmit:function(e){return e.preventDefault()},className:"nice-form",children:(0,f.jsxs)("div",{className:"form__group field dishes-form",children:[(0,f.jsx)("input",{value:y,onChange:function(e){var n=+e.target.value;(!n||n<0)&&(n=""),C(n)},type:"number",id:"numOfDishes",name:"numOfDishes",className:"form__field",placeholder:"Search by recipe or ingredient"}),(0,f.jsx)("label",{htmlFor:"numOfDishes",className:"form__label",children:"Number Of Dishes"})]})})]}),(0,f.jsx)(A,{removeIngredient:pe,addIngredient:de,handleIngChange:oe,ingredients:t.ingredients,ingToScale:he,onChangeRecipeData:se,ingToRemoveIdx:x,onReOrderIngs:function(e){var n=e.destination.index,i=e.source.index,c=(0,r.Z)(t.ingredients);c=(0,F.th)(c,n,i);var s=(0,a.Z)((0,a.Z)({},t),{},{ingredients:c});I?o(s):ae({recipe:s},"general")},numOfDishes:y,isFixedRatio:q,isWeightRatio:V,handleRecipeAmounts:function(e,n){var t=+e.target.innerText;t||(t=he.amount),ne(t)},amountToScaleFixed:ee,isEdited:I}),(0,f.jsxs)("section",{className:"instructions",children:[(0,f.jsx)("strong",{className:"instructions-title",children:"Instructions"}),(0,f.jsx)("textarea",{onClick:function(e){return e.stopPropagation()},className:"instructions-area",onChange:function(e){var n=e.target;return se("instructions",n.value)},value:t.instructions,name:"instructions",id:"",cols:"30",rows:"30"})]}),_&&(0,f.jsxs)("section",{className:"edit-btn-container  ".concat(ge),children:[(0,f.jsx)("button",{onClick:ue,className:"edit-btn save save-changes",children:"Save Changes"}),(0,f.jsx)("button",{onClick:function(){N(!1),ie(),(0,D.oc)({txt:"Canceled changes",time:2e3})},className:"edit-btn cancel save-changes",children:"Cancel"})]})]}):(0,f.jsx)(g.a,{_isLoading:!0})}},1945:function(e,n,t){t.d(n,{O:function(){return l}});var r=t(7762),i=t(5861),a=t(7757),c=t.n(a),s=t(763),o=t(1732);var u=t(9275),l={query:function(e,n){return p.apply(this,arguments)},getEmptyRecipe:function(){var e=v();return{name:"New Recipe",createdAt:Date.now(),ingToScaleId:e.id,ingredients:[e],imgUrl:"",instructions:""}},getEmptyIngredient:v,getById:function(e){return f.apply(this,arguments)},remove:function(e){return h.apply(this,arguments)},update:function(e){return m.apply(this,arguments)},save:function(e,n){return g.apply(this,arguments)},getRecipeTxt:function(e){var n="";n+=(0,u.YA)(e.name)+"\n\n\n";var t=e.ingredients.find((function(n){return n.id===e.ingToScaleId}));n+="--Ingredients--\n";var i,a=(0,r.Z)(e.ingredients);try{for(a.s();!(i=a.n()).done;){var c=i.value;t&&(0,u.ze)(c,t);n+="* ",n+=(0,s.capitalize)(c.name)+"\t|\t",n+=c.amount+" "+x(c.units)+"\t",n+="\n\n"}}catch(o){a.e(o)}finally{a.f()}return n+="\n\n",n+="--Instructions--\n",n+=e.instructions}},d="recipe";function p(){return(p=(0,i.Z)(c().mark((function e(n,t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",o.R.get(d,{userId:n,filterBy:t}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return");case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function f(){return(f=(0,i.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.R.get("recipe/"+n);case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function h(){return(h=(0,i.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",o.R.delete("".concat(d,"/").concat(n)));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return");case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function g(){return(g=(0,i.Z)(c().mark((function e(n,t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",null!==n&&void 0!==n&&n.recipe._id?o.R.put(d,{data:n,type:t}):o.R.post(d,n.recipe));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return");case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function m(){return(m=(0,i.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",o.R.put(d,n));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return");case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function v(){return{id:(0,u.qR)(),name:"ingredient",amount:1,units:"g"}}function x(e){return e.length<=2?e:(0,s.capitalize)(b(e))}var b=function(e){return e&&e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((function(e){return e.toLowerCase()})).join(" ")}},6801:function(e,n,t){t.d(n,{z:function(){return c}});var r=t(5861),i=t(7757),a=t.n(i);function c(e){var n=e.txt,t=e.title,i=e.successCb,c=void 0===i?function(){}:i,s=e.failCb,o=void 0===s?function(){}:s;return function(){var e=(0,r.Z)(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",r({type:"SET_DIALOG_OPEN",txt:n,title:t,successCb:c,failCb:o}));case 4:throw e.prev=4,e.t0=e.catch(0),console.log("err:",e.t0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(n){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=688.86a09993.chunk.js.map